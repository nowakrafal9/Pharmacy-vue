"use strict";(self["webpackChunkpharmacy_inv"]=self["webpackChunkpharmacy_inv"]||[]).push([[917],{917:function(e,a,l){l.r(a),l.d(a,{default:function(){return b}});var t=l(3396),n=l(9242);const s={class:"mt-3 d-flex flex-column align-items-center justify-content-center gap-3"},r={class:"d-flex flex-column align-items-center justify-content-center gap-3 p-4 shadow rounded",style:{background:"hsl(210, 29%, 35%)"}},o=(0,t._)("h2",{class:"m-0"},"Pharmatory",-1),i={class:"form-floating",style:{color:"gray"}},c=(0,t._)("label",{for:"emailInput"},"Email address",-1),u={class:"form-floating mt-3",style:{color:"gray"}},d=(0,t._)("label",{for:"passInput"},"Password",-1),m=(0,t._)("br",null,null,-1),p=(0,t._)("input",{type:"submit",value:"Login",class:"btn btn-outline-warning"},null,-1);function f(e,a,l,f,g,y){return(0,t.wg)(),(0,t.iD)("div",s,[(0,t._)("div",r,[o,(0,t._)("form",{onSubmit:a[2]||(a[2]=(0,n.iM)(((...e)=>f.Login&&f.Login(...e)),["prevent"]))},[(0,t._)("div",i,[(0,t.wy)((0,t._)("input",{type:"email",class:"form-control",id:"emailInput",placeholder:"name@example.com","onUpdate:modelValue":a[0]||(a[0]=e=>f.email=e),required:""},null,512),[[n.nr,f.email]]),c]),(0,t._)("div",u,[(0,t.wy)((0,t._)("input",{type:"password",class:"form-control",id:"passInput",placeholder:"name@example.com","onUpdate:modelValue":a[1]||(a[1]=e=>f.password=e),required:""},null,512),[[n.nr,f.password]]),d]),m,p],32)])])}var g=l(4870),y=l(4239),v=l(7333),w={setup(){const e=(0,g.iH)(""),a=(0,g.iH)(""),l=async()=>{await v.I.signInWithEmailAndPassword(e.value,a.value).then((a=>{y.Z.state.loggedUser=e.value.split("@")[0],t(a.user.uid)})).catch((()=>{alert("Incorrect email or password"),e.value="",a.value=""}))},t=async e=>{var a=v.db.collection("/users").doc(e);await a.get().then((e=>{e.isEmpty||("Admin"==e.data().role&&(y.Z.state.isAdmin=!0),1==e.data().statusBlocked&&(y.Z.state.isBlocked=!0))})),y.Z.state.loadPage=!0};return{Login:l,email:e,password:a}}},h=l(89);const _=(0,h.Z)(w,[["render",f]]);var b=_}}]);
//# sourceMappingURL=917.a1e109ae.js.map