"use strict";(self["webpackChunkpharmacy_inv"]=self["webpackChunkpharmacy_inv"]||[]).push([[721],{2721:function(t,e,r){r.r(e),r.d(e,{default:function(){return V}});var a=r(3396),n=r(9242),s=r(2268);const o={class:"mt-3 d-flex flex-column align-items-center justify-content-center gap-3"},i={key:0,class:"d-flex flex-column align-items-center justify-content-center gap-3 p-4 shadow rounded",style:{background:"hsl(210, 29%, 35%)"}},c=(0,a._)("h2",{class:"m-0"},"Add product",-1),l={class:"form-floating w-100",style:{color:"gray"}},d=(0,a._)("label",{for:"nameInput"},"Product name",-1),u={class:"form-floating w-100",style:{color:"gray"}},h={key:0,value:""},y=(0,a._)("label",{for:"brand"},"Brand",-1),p={class:"form-floating w-100",style:{color:"gray"}},m={key:0,value:""},g=(0,a._)("label",{for:"brand"},"Category",-1),f={class:"form-floating w-100",style:{color:"gray"}},b=(0,a._)("label",{for:"priceInput"},"Price",-1),w={class:"form-floating w-100",style:{color:"gray"}},_=(0,a._)("label",{for:"quantityInput"},"Quantity",-1),v={key:1,class:"d-flex justify-content-center mt-5"},q=(0,a._)("div",{class:"spinner-border",style:{width:"5rem",height:"5rem"},role:"status"},[(0,a._)("span",{class:"visually-hidden"},"Loading...")],-1),C=[q];function k(t,e,r,q,k,N){const B=(0,a.up)("Navbar");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(B),(0,a._)("div",o,[this.creatingProduct?((0,a.wg)(),(0,a.iD)("div",v,C)):((0,a.wg)(),(0,a.iD)("div",i,[c,(0,a._)("div",l,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"nameInput","onUpdate:modelValue":e[0]||(e[0]=t=>this.productName=t)},null,512),[[n.nr,this.productName]]),d]),(0,a._)("div",u,[(0,a.wy)((0,a._)("select",{name:"category",id:"category",class:"form-select","onUpdate:modelValue":e[1]||(e[1]=t=>this.selectedBrand=t)},[""==this.selectedBrand?((0,a.wg)(),(0,a.iD)("option",h,"Choose brand")):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.brands,(t=>((0,a.wg)(),(0,a.iD)("option",{key:t.id},(0,s.zw)(t.name),1)))),128))],512),[[n.bM,this.selectedBrand]]),y]),(0,a._)("div",p,[(0,a.wy)((0,a._)("select",{name:"category",id:"category",class:"form-select","onUpdate:modelValue":e[2]||(e[2]=t=>this.selectedCategory=t)},[""==this.selectedCategory?((0,a.wg)(),(0,a.iD)("option",m," Choose category ")):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.category,(t=>((0,a.wg)(),(0,a.iD)("option",{key:t.id},(0,s.zw)(t.name),1)))),128))],512),[[n.bM,this.selectedCategory]]),g]),(0,a._)("div",f,[(0,a.wy)((0,a._)("input",{type:"number",class:"form-control",id:"priceInput","onUpdate:modelValue":e[3]||(e[3]=t=>this.price=t),required:""},null,512),[[n.nr,this.price]]),b]),(0,a._)("div",w,[(0,a.wy)((0,a._)("input",{type:"number",class:"form-control",id:"quantityInput","onUpdate:modelValue":e[4]||(e[4]=t=>this.quantity=t),required:""},null,512),[[n.nr,this.quantity]]),_]),(0,a._)("button",{class:"btn btn-outline-warning",onClick:e[5]||(e[5]=t=>N.createProduct())}," Add product ")]))])],64)}var N=r(5207),B=r(4239),D=r(1130),P=r(678),U=r(1868),x={components:{Navbar:D.Z},data(){return{productName:"",selectedBrand:"",selectedCategory:"",price:0,quantity:0,creatingProduct:!1}},setup(){const t=(0,P.tv)();return{store:B.Z,router:t,brands:U.Y,category:U.W}},methods:{createProduct:async function(){""!=this.productName&&""!=this.selectedBrand&&""!=this.selectedCategory&&this.price>0&&this.quantity>=0?(this.productName=this.transformWord(this.productName),this.creatingProduct=!0,await N.db.collection("products").add({productName:this.productName,brand:this.selectedBrand,category:this.selectedCategory,price:this.price,quantity:this.quantity}).then((()=>{this.productName="",this.selectedBrand="",this.selectedCategory="",this.price=0,this.quantity=0,this.router.push("/")})).catch((t=>{this.creatingUser=!1,alert(t)}))):alert(this.createAlert())},transformWord:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},createAlert:function(){let t="";return""==this.productName&&(t+="Product name cannot be empty \n"),""==this.selectedBrand&&(t+="Select brand \n"),""==this.selectedCategory&&(t+="Select category \n"),!this.price>0&&(t+="Price has to be greater than 0 \n"),this.quantity<0&&(t+="Quantity has to be equal or greater than 0 \n"),t}}},I=r(89);const A=(0,I.Z)(x,[["render",k]]);var V=A}}]);
//# sourceMappingURL=721.b7baab82.js.map