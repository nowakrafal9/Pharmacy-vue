"use strict";(self["webpackChunkpharmacy_inv"]=self["webpackChunkpharmacy_inv"]||[]).push([[759],{4759:function(e,t,s){s.r(t),s.d(t,{default:function(){return W}});var a=s(3396),r=s(9242);const n={class:"mt-3 d-flex flex-column align-items-center justify-content-center gap-3"},i={key:0,class:"d-flex flex-column align-items-center justify-content-center gap-3 p-4 shadow rounded",style:{background:"hsl(210, 29%, 35%)"}},o=(0,a._)("h2",{class:"m-0"},"Register employee",-1),l={class:"form-floating",style:{color:"gray"}},m=(0,a._)("label",{for:"emailInput"},"Email address",-1),c={class:"form-floating",style:{color:"gray"}},u=(0,a._)("label",{for:"passInput"},"Password",-1),h={class:"form-floating",style:{color:"gray"}},d=(0,a._)("label",{for:"nameInput"},"Name",-1),p={class:"form-floating",style:{color:"gray"}},f=(0,a._)("label",{for:"surnameInput"},"Surname",-1),y={key:1,class:"d-flex justify-content-center mt-5"},w=(0,a._)("div",{class:"spinner-border",style:{width:"5rem",height:"5rem"},role:"status"},[(0,a._)("span",{class:"visually-hidden"},"Loading...")],-1),g=[w];function v(e,t,s,w,v,_){const b=(0,a.up)("Navbar");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(b),(0,a._)("div",n,[this.creatingUser?((0,a.wg)(),(0,a.iD)("div",y,g)):((0,a.wg)(),(0,a.iD)("div",i,[o,(0,a._)("div",l,[(0,a.wy)((0,a._)("input",{type:"email",class:"form-control",id:"emailInput",placeholder:"name@example.com","onUpdate:modelValue":t[0]||(t[0]=e=>this.email=e)},null,512),[[r.nr,this.email]]),m]),(0,a._)("div",c,[(0,a.wy)((0,a._)("input",{type:"password",class:"form-control",id:"passInput",placeholder:"name@example.com","onUpdate:modelValue":t[1]||(t[1]=e=>this.password=e)},null,512),[[r.nr,this.password]]),u]),(0,a._)("div",h,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"nameInput",placeholder:"name@example.com","onUpdate:modelValue":t[2]||(t[2]=e=>this.name=e),onKeypress:t[3]||(t[3]=e=>_.isLetter(e))},null,544),[[r.nr,this.name]]),d]),(0,a._)("div",p,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"surnameInput",placeholder:"name@example.com","onUpdate:modelValue":t[4]||(t[4]=e=>this.surname=e),onKeypress:t[5]||(t[5]=e=>_.isLetter(e))},null,544),[[r.nr,this.surname]]),f]),(0,a._)("button",{class:"btn btn-outline-warning",onClick:t[6]||(t[6]=e=>_.createUser())}," Create user ")]))])],64)}var _=s(7333),b=s(4239),x=s(1130),U=s(678);let k="ĄąĆćĘęŁłŃńÓóŚśŹźŻż";var C={components:{Navbar:x.Z},data(){return{email:"",password:"",name:"",surname:"",uid:"",creatingUser:!1}},setup(){const e=(0,U.tv)();return{store:b.Z,router:e}},methods:{createUser:async function(){""!=this.email&&-1!=this.email.indexOf("@")&&""!=this.password&&this.password.length>=6&&""!=this.name&&""!=this.surname?(this.name=this.transformWord(this.name),this.surname=this.transformWord(this.surname),this.creatingUser=!0,await _.I.createUserWithEmailAndPassword(this.email,this.password).then((e=>{this.createDocForUser(e.user.uid)})).catch((e=>{this.creatingUser=!1,alert(e)}))):alert(this.createAlert())},createDocForUser:async function(e){await _.db.collection("users").doc(e).set({email:this.email,name:this.name,surname:this.surname,role:"User",statusBlocked:!1}).then((()=>{this.email="",this.password="",this.name="",this.surname="",this.router.push("/userBrowser")}))},transformWord:function(e){return e=e.toLowerCase(),e.charAt(0).toUpperCase()+e.slice(1)},isLetter:function(e){e=e||window.event;let t=e.which?e.which:e.keyCode;if(32==t||t>=65&&t<122||-1!=k.indexOf(String.fromCharCode(t)))return!0;e.preventDefault()},createAlert:function(){let e="";return""==this.email?e+="Email cannot be empty \n":-1==this.email.indexOf("@")&&(e+="Wrong format of email: example@example.com \n"),""==this.password?e+="Password cannot be empty \n":this.password.length<6&&(e+="Password has to have at least 6 characters \n"),""==this.name&&(e+="Name cannot be empty \n"),""==this.surname&&(e+="Surname cannot be empty \n"),e}}},I=s(89);const D=(0,I.Z)(C,[["render",v]]);var W=D}}]);
//# sourceMappingURL=759.5a5b1f2f.js.map