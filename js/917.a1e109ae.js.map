{"version":3,"file":"js/917.a1e109ae.js","mappings":"oMAEIA,MAAM,2E,GAUJA,MAAM,wFAUNC,MAAA,mC,GAEAC,EAAAA,EAAAA,GAA+B,MAA3BF,MAAM,OAAM,cAAU,G,GAEnBA,MAAM,gBAAgBC,MAAA,gB,GASzBC,EAAAA,EAAAA,GAA6C,SAAtCC,IAAI,cAAa,iBAAa,G,GAElCH,MAAM,qBAAqBC,MAAA,gB,GAS9BC,EAAAA,EAAAA,GAAuC,SAAhCC,IAAI,aAAY,YAAQ,G,GAEjCD,EAAAA,EAAAA,GAAM,mB,GACNA,EAAAA,EAAAA,GAAqE,SAA9DE,KAAK,SAASC,MAAM,QAAQL,MAAM,2BAAzC,S,0CAhDNM,EAAAA,EAAAA,IAmDM,MAnDN,EAmDM,EAzCJJ,EAAAA,EAAAA,GAwCM,MAxCN,EAwCM,CA3BJK,GACAL,EAAAA,EAAAA,GAyBO,QAzBAM,SAAM,8BAAUC,EAAAA,OAAAA,EAAAA,SAAAA,IAAK,eAA5B,EACEP,EAAAA,EAAAA,GAUM,MAVN,EAUM,WATJA,EAAAA,EAAAA,GAOE,SANAE,KAAK,QACLJ,MAAM,eACNU,GAAG,aACHC,YAAY,mB,qCACHF,EAAAA,MAAKG,GACdC,SAAA,IANF,iBAKWJ,EAAAA,SAGXK,KAEFZ,EAAAA,EAAAA,GAUM,MAVN,EAUM,WATJA,EAAAA,EAAAA,GAOE,SANAE,KAAK,WACLJ,MAAM,eACNU,GAAG,YACHC,YAAY,mB,qCACHF,EAAAA,SAAQG,GACjBC,SAAA,IANF,iBAKWJ,EAAAA,YAGXM,IAEFC,EACAC,GAxBF,Q,kCAoCN,GACEC,QACE,MAAMC,GAAQC,EAAAA,EAAAA,IAAI,IACZC,GAAWD,EAAAA,EAAAA,IAAI,IAEfE,EAAQC,gBACNC,EAAAA,EAAAA,2BACwBL,EAAMd,MAAOgB,EAAShB,OACjDoB,MAAMC,IACLC,EAAAA,EAAAA,MAAAA,WAAyBR,EAAMd,MAAMuB,MAAM,KAAK,GAChDC,EAAcH,EAAKI,KAAKC,QAEzBC,OAAM,KACLC,MAAM,+BACNd,EAAMd,MAAQ,GACdgB,EAAShB,MAAQ,OAIjBwB,EAAgBN,MAAAA,IACpB,IAAIW,EAAUC,EAAAA,GAAAA,WAAc,UAAUC,IAAIL,SACpCG,EAAQG,MAAMZ,MAAMa,IACnBA,EAASC,UACgB,SAAxBD,EAASZ,OAAOc,OAClBb,EAAAA,EAAAA,MAAAA,SAAsB,GAEa,GAAjCW,EAASZ,OAAOe,gBAClBd,EAAAA,EAAAA,MAAAA,WAAwB,OAK9BA,EAAAA,EAAAA,MAAAA,UAAuB,GAGzB,MAAO,CACLL,MAAAA,EACAH,MAAAA,EACAE,SAAAA,K,QC9FN,MAAMqB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://pharmacy-inv/./src/views/LoginView.vue","webpack://pharmacy-inv/./src/views/LoginView.vue?5755"],"sourcesContent":["<template>\r\n  <div\r\n    class=\"\r\n      mt-3\r\n      d-flex\r\n      flex-column\r\n      align-items-center\r\n      justify-content-center\r\n      gap-3\r\n    \"\r\n  >\r\n    <div\r\n      class=\"\r\n        d-flex\r\n        flex-column\r\n        align-items-center\r\n        justify-content-center\r\n        gap-3\r\n        p-4\r\n        shadow\r\n        rounded\r\n      \"\r\n      style=\"background: hsl(210, 29%, 35%)\"\r\n    >\r\n      <h2 class=\"m-0\">Pharmatory</h2>\r\n      <form @submit.prevent=\"Login\">\r\n        <div class=\"form-floating\" style=\"color: gray\">\r\n          <input\r\n            type=\"email\"\r\n            class=\"form-control\"\r\n            id=\"emailInput\"\r\n            placeholder=\"name@example.com\"\r\n            v-model=\"email\"\r\n            required\r\n          />\r\n          <label for=\"emailInput\">Email address</label>\r\n        </div>\r\n        <div class=\"form-floating mt-3\" style=\"color: gray\">\r\n          <input\r\n            type=\"password\"\r\n            class=\"form-control\"\r\n            id=\"passInput\"\r\n            placeholder=\"name@example.com\"\r\n            v-model=\"password\"\r\n            required\r\n          />\r\n          <label for=\"passInput\">Password</label>\r\n        </div>\r\n        <br />\r\n        <input type=\"submit\" value=\"Login\" class=\"btn btn-outline-warning\" />\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from \"vue\";\r\nimport store from \"../store/index\";\r\nimport { auth, db } from \"../main.js\";\r\n// import { useRouter } from \"vue-router\";\r\n\r\nexport default {\r\n  setup() {\r\n    const email = ref(\"\");\r\n    const password = ref(\"\");\r\n\r\n    const Login = async () => {\r\n      await auth\r\n        .signInWithEmailAndPassword(email.value, password.value)\r\n        .then((data) => {\r\n          store.state.loggedUser = email.value.split(\"@\")[0];\r\n          setPrivillage(data.user.uid);\r\n        })\r\n        .catch(() => {\r\n          alert(\"Incorrect email or password\");\r\n          email.value = \"\";\r\n          password.value = \"\";\r\n        });\r\n    };\r\n\r\n    const setPrivillage = async (uid) => {\r\n      var userRef = db.collection(\"/users\").doc(uid);\r\n      await userRef.get().then((snapshot) => {\r\n        if (!snapshot.isEmpty) {\r\n          if (snapshot.data().role == \"Admin\") {\r\n            store.state.isAdmin = true;\r\n          }\r\n          if (snapshot.data().statusBlocked == true) {\r\n            store.state.isBlocked = true;\r\n          }\r\n        }\r\n      });\r\n\r\n      store.state.loadPage = true;\r\n    };\r\n\r\n    return {\r\n      Login,\r\n      email,\r\n      password,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import { render } from \"./LoginView.vue?vue&type=template&id=36ab8738\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\nowak\\\\Desktop\\\\PWAG\\\\Projekt\\\\pharmacy-inv\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","style","_createElementVNode","for","type","value","_createElementBlock","_hoisted_3","onSubmit","$setup","id","placeholder","$event","required","_hoisted_5","_hoisted_7","_hoisted_8","_hoisted_9","setup","email","ref","password","Login","async","auth","then","data","store","split","setPrivillage","user","uid","catch","alert","userRef","db","doc","get","snapshot","isEmpty","role","statusBlocked","__exports__","render"],"sourceRoot":""}